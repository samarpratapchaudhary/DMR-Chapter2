/* In a twoâ€™s complement number system, x &= (x - 1) deletes the rightmost 1-bit in x.
Explain why.Use this observation to write a faster version of bitcount. */
#include <stdio.h>

// Faster bitcount using x &= (x - 1)
int bitcount(unsigned x);

int main() {
    unsigned x;
    printf("Enter a number: ");
    scanf("%u", &x);

    printf("Number of 1-bits in %u is: %d\n", x, bitcount(x));
    return 0;
}

int bitcount(unsigned x) {
    int count = 0;
    while (x != 0) {
        x &= (x - 1);   // remove rightmost 1-bit
        count++;
    }
    return count;
}
